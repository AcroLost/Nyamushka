const productsList=[{taste:"c фуа-гра",active:!1,ended:!1,footer:'Чего сидишь? Порадуй котэ, <span class="product__buy">купи</span><span>.</span>',footerActive:"Печень утки разварная с артишоками."},{taste:"c рыбой",active:!0,ended:!1,footer:'Чего сидишь? Порадуй котэ, <span class="product__buy">купи</span><span>.</span>',footerActive:"Головы щучьи с чесноком да свежайшая сёмгушка."},{taste:"c курой",active:!1,ended:!0,footer:'Чего сидишь? Порадуй котэ, <span class="product__buy">купи</span><span>.</span>',footerActive:"Филе из цыплят с трюфелями в бульоне."}],pink="#d91667",lightPink="#e62e7a",gradientPink="linear-gradient(135deg, transparent 31.5px, #d91667 0)",gradientLightPink="linear-gradient(135deg, transparent 31.5px, #e62e7a 0)",blue="#1698d9",lightBlue="#2ea8e6",gradientBlue="linear-gradient(135deg, transparent 31.5px, #1698d9 0)",gradientLightBlue="linear-gradient(135deg, transparent 31.5px, #2ea8e6 0)",darkGray="#666666",product=document.querySelectorAll(".product"),productBorder=document.querySelectorAll(".product__border"),item=document.querySelectorAll(".item"),productFooter=document.querySelectorAll(".product__footer");for(let e=0;e<productsList.length;e++){const t=product[e].classList,r=item[e].firstElementChild,o=item[e].lastElementChild;function updateState(e){0==productsList[e].active&&0==productsList[e].ended?(t.remove("product_active"),r.innerHTML="Сказочное заморское яство",r.style.color=darkGray,productBorder[e].style.background=gradientBlue,o.style.backgroundColor=blue,productFooter[e].innerHTML=productsList[e].footer):1==productsList[e].active?(t.add("product_active"),productBorder[e].style.background=gradientPink,o.style.backgroundColor=pink,productFooter[e].innerHTML=productsList[e].footerActive):1==productsList[e].ended&&(t.add("product_ended"),productFooter[e].innerHTML="Печалька, "+productsList[e].taste+" закончился.")}function clickOnItem(e){1==productsList[e].active?(productsList[e].active=!1,updateState(e)):0==productsList[e].active&&(productsList[e].active=!0,updateState(e))}function mouseEnter(e){1==productsList[e].active?(r.innerHTML="Котэ не одобряет?",r.style.color=lightPink,productBorder[e].style.background=gradientLightPink,o.style.backgroundColor=lightPink):(productBorder[e].style.background=gradientLightBlue,o.style.backgroundColor=lightBlue)}function mouseLeave(e){1==productsList[e].active?(r.innerHTML="Сказочное заморское яство",r.style.color=darkGray,productBorder[e].style.background=gradientPink,o.style.backgroundColor=pink):(productBorder[e].style.background=gradientBlue,o.style.backgroundColor=blue)}function clickOnFooter(e,t){t.target.classList.contains("product__buy")&&clickOnItem(e)}updateState(e),item[e].addEventListener("click",clickOnItem.bind(this,e)),item[e].addEventListener("mouseenter",mouseEnter.bind(this,e)),item[e].addEventListener("mouseleave",mouseLeave.bind(this,e)),(device.mobile()||device.tablet())&&(item[e].removeEventListener("mouseenter",mouseEnter,!1),item[e].removeEventListener("mouseleave",mouseLeave,!1)),productFooter[e].addEventListener("click",clickOnFooter.bind(this,e))}